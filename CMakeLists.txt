project (cmplr)
cmake_minimum_required(VERSION 3.5)
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -g3")
set(tokenizer_src string_literal.c char_literal.c keyword.c token_type.c tab.c token.c state.c char_buffer.c operator.c)
set(use_compressed TRUE)
if(use_compressed)
  list(APPEND tokenizer_src cprd_transfer.c)
else()
  list(APPEND tokenizer_src transfer.c)
endif()

add_library(tokenizer_lib ${tokenizer_src})
add_executable(tokenizer tokenizer.c)
target_link_libraries(tokenizer tokenizer_lib)

